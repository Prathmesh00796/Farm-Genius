<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FarmGenius - AI/ML Agriculture Assistant</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <script src="https://www.google.com/maps/d/embed?mid=1yxe8VpI5cjc3jSAmEwMnCk0y9Q2B3s0&ehbc=2E312F" ></script>
</head>
<body>
    <div id="google_translate_element"></div>

    <!-- Navbar -->
    <nav class="navbar">
        <div class="logo">
            <img src="logo.png" alt="FarmGenius Logo">
            <h1>FarmGenius</h1>
        </div>
        <div class="nav-actions">
            <div class="language-switcher">
                <select id="language-select" aria-label="Select language">
                    <option value="en">English</option>
                    <option value="hi">हिंदी</option>
                    <option value="pa">ਪੰਜਾਬੀ</option>
                    <option value="ta">தமிழ்</option>
                </select>
            </div>
            <button class="voice-assistant-btn" title="Voice Assistant">
                <i class="fas fa-microphone"></i>
            </button>
            <div class="notification-bell">
                <i class="fas fa-bell"></i>
                <span class="notification-count">3</span>
            </div>
            <div class="user-profile" id="user-profile">
                <img src="profile.png" alt="User Profile" id="profile-toggle">
                <div class="dropdown-content" id="dropdown-menu">
                    <a href="#" id="profile-link">Profile</a>
                    <a href="#" id="logout-link">Logout</a>
                </div>
            </div>
            
        </div>
    </nav>

    <!-- Main Content Container -->
    <main class="main-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <img src="profilehm.png" alt="User Photo">
                <p>Welcome, <span id="user-name">Rajesh</span></p>
                <p class="user-role">Farmer</p>
            </div>
            <div class="sidebar-links">
                <a href="#" data-page="dashboard"><i class="fas fa-home"></i> Dashboard</a>
                <a href="#" data-page="crop-disease"><i class="fas fa-leaf"></i> Crop Disease</a>
                <a href="#" data-page="yield-prediction"><i class="fas fa-chart-line"></i> Yield Prediction</a>
                <a href="#" data-page="market-info"><i class="fas fa-store"></i> Market Info</a>
                <a href="#" data-page="nearby-markets"><i class="fas fa-map-marker-alt"></i> Nearby Markets</a>
                <a href="#" data-page="policies"><i class="fas fa-file-alt"></i> Gov. Policies</a>
            </div>
            <div class="sidebar-footer">
                <a href="#" id="feedback-link"><i class="fas fa-comment"></i> Feedback</a>
                <a href="#" id="help-link"><i class="fas fa-question-circle"></i> Help</a>
            </div>
        </aside>

        <!-- Content Area -->
        <div class="content-area">
            <!-- Login Page -->
            <div class="page" id="login-page">
                <div class="auth-container">
                    <div class="auth-form">
                        <h2>Login to FarmGenius</h2>
                        <form id="login-form">
                            <div class="form-group">
                                <label for="login-phone">Phone/Email</label>
                                <input type="text" id="login-phone" required>
                            </div>
                            <div class="form-group">
                                <label for="login-password">Password</label>
                                <input type="password" id="login-password" required>
                            </div>
                            <div class="form-group">
                                <label for="login-role">Role</label>
                                <select id="login-role">
                                    <option value="farmer">Farmer</option>
                                    <option value="dealer">Dealer</option>
                                </select>
                            </div>
                            <button type="submit" class="btn btn-primary">Login</button>
                        </form>
                        <p class="auth-links">
                            <a href="#" id="forgot-password-link">Forgot Password?</a>
                            <a href="#" id="register-link">New User? Register</a>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Registration Page -->
            <div class="page" id="register-page">
                <div class="auth-container">
                    <div class="auth-form">
                        <h2>Register for FarmGenius</h2>
                        <form id="register-form">
                            <div class="form-group">
                                <label for="register-name">Full Name</label>
                                <input type="text" id="register-name" required>
                            </div>
                            <div class="form-group">
                                <label for="register-phone">Phone Number</label>
                                <input type="tel" id="register-phone" required>
                            </div>
                            <div class="form-group">
                                <label for="register-email">Email (Optional)</label>
                                <input type="email" id="register-email">
                            </div>
                            <div class="form-group">
                                <label for="register-location">Village/City</label>
                                <input type="text" id="register-location" required>
                            </div>
                            <div class="form-group">
                                <label for="register-role">I am a</label>
                                <select id="register-role">
                                    <option value="farmer">Farmer</option>
                                    <option value="dealer">Dealer</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="register-password">Create Password</label>
                                <input type="password" id="register-password" required>
                            </div>
                            <div class="form-group">
                                <label for="register-confirm-password">Confirm Password</label>
                                <input type="password" id="register-confirm-password" required>
                            </div>
                            <button type="submit" class="btn btn-primary">Register</button>
                        </form>
                        <p class="auth-links">
                            <a href="#" id="login-link">Already Registered? Login</a>
                        </p>
                    </div>
                </div>
            </div>

            <!-- Dashboard Page -->
            <div class="page active" id="dashboard-page">
                <h2 class="page-title">Farmer Dashboard</h2>
                
                <div class="dashboard-greeting">
                    <h3>Welcome back, <span id="dashboard-user-name">Rajesh</span>!</h3>
                    <p>Today is <span id="current-date">April 18, 2025</span> | Weather: <span id="current-weather">30°C, Sunny</span></p>
                </div>
                
                <div class="quick-actions">
                    <div class="action-card">
                        <i class="fas fa-camera"></i>
                        <h4>Scan Crop</h4>
                        <p>Detect diseases in your crops</p>
                        <a href="#" class="btn" data-page="crop-disease">Scan Now</a>
                    </div>
                    <div class="action-card">
                        <i class="fas fa-chart-bar"></i>
                        <h4>Predict Yield</h4>
                        <p>Get yield forecasts for your crops</p>
                        <a href="#" class="btn" data-page="yield-prediction">Predict Now</a>
                    </div>
                    <div class="action-card">
                        <i class="fas fa-store"></i>
                        <h4>Market Prices</h4>
                        <p>Check current crop prices</p>
                        <a href="#" class="btn" data-page="market-info">View Prices</a>
                    </div>
                    <div class="action-card">
                        <i class="fas fa-map-marker-alt"></i>
                        <h4>Nearby Markets</h4>
                        <p>Find markets near your location</p>
                        <a href="#" class="btn" data-page="nearby-markets">Find Markets</a>
                    </div>
                </div>
                
                <div class="dashboard-widgets">
                    <div class="widget weather-forecast">
                        <h4>7-Day Weather Forecast</h4>
                        <div class="weather-cards">
                            <div class="weather-day">
                                <p>Today</p>
                                <i class="fas fa-sun"></i>
                                <p>30°C</p>
                            </div>
                            <div class="weather-day">
                                <p>Fri</p>
                                <i class="fas fa-cloud-sun"></i>
                                <p>28°C</p>
                            </div>
                            <div class="weather-day">
                                <p>Sat</p>
                                <i class="fas fa-cloud"></i>
                                <p>26°C</p>
                            </div>
                            <div class="weather-day">
                                <p>Sun</p>
                                <i class="fas fa-cloud-rain"></i>
                                <p>25°C</p>
                            </div>
                            <div class="weather-day">
                                <p>Mon</p>
                                <i class="fas fa-cloud-sun"></i>
                                <p>27°C</p>
                            </div>
                        </div>
                    </div>
                    
                    <div class="widget news-tips">
                        <h4>Agricultural Tips & News</h4>
                        <div class="news-carousel">
                            <div class="news-item active">
                                <h5>New Subsidy for Organic Farming</h5>
                                <p>Government announced new subsidies for organic farmers starting May 2025.</p>
                                <a href="#">Read More</a>
                            </div>
                            <div class="news-item">
                                <h5>Pest Alert: Aphid Outbreak</h5>
                                <p>Aphid outbreaks reported in northern regions. Check your crops regularly.</p>
                                <a href="#">Read More</a>
                            </div>
                            <div class="news-item">
                                <h5>Water Conservation Techniques</h5>
                                <p>Learn new methods to conserve water during summer months.</p>
                                <a href="#">Read More</a>
                            </div>
                        </div>
                        <div class="carousel-controls">
                            <button id="prev-news" title="Previous News"><i class="fas fa-chevron-left"></i></button>
                            <button id="next-news" title="Next News"><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                </div>
                
                <div class="market-trends-widget">
                    <h4>Market Price Trends (Last 30 Days)</h4>
                    <div class="chart-controls">
                        <select id="trend-crop-select" aria-label="Select crop for price trend">
                            <option value="wheat">Wheat</option>
                            <option value="rice">Rice</option>
                            <option value="maize">Maize</option>
                            <option value="potato">Potato</option>
                        </select>
                    </div>
                    <div class="chart-container">
                        <canvas id="price-trend-chart"></canvas>
                    </div>
                </div>
            </div>
            

            <!-- Crop Disease Detection Page -->
            <div class="page" id="crop-disease-page">
                <h2 class="page-title">Crop Disease Detection</h2>
                
                <div class="disease-detection-container">
                    <div class="upload-section">
                        <div class="upload-card">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <h4>Upload Crop Image</h4>
                            <p>Take a clear photo of the affected plant part</p>
                            <input type="file" id="crop-image-upload" accept="image/*" hidden>
                            <button class="btn btn-primary" id="upload-image-btn">Choose File</button>
                            <p class="upload-hint">or drag and drop image here</p>
                        </div>
                        
                        <div class="preview-card hidden" id="image-preview-card">
                            <h4>Image Preview</h4>
                            <div class="preview-image-container">
                                <img id="preview-image" src="" alt="Crop Preview">
                            </div>
                            <div class="preview-actions">
                                <button class="btn btn-secondary" id="change-image-btn">Change Image</button>
                                <button class="btn btn-primary" id="analyze-image-btn">Analyze Disease</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="result-section" id="disease-result-section">
                        <div class="result-card">
                            <div class="result-header">
                                <h4>Analysis Results</h4>
                                <span class="result-date">April 18, 2025</span>
                            </div>
                            <div class="result-content">
                                <div class="disease-info">
                                    <h5>Detected Disease: <span id="disease-name">Leaf Blight</span></h5>
                                    <div class="confidence">
                                        <p>Confidence: <span id="disease-confidence">92%</span></p>
                                        <div class="confidence-bar">
                                            <div class="confidence-level" data-confidence="92"></div>
                                        </div>
                                    </div>
                                    <div class="disease-description">
                                        <p id="disease-description">Leaf blight is a fungal disease that affects various crops, causing yellowing and browning of leaves, eventually leading to tissue death.</p>
                                    </div>
                                </div>
                                
                                <div class="treatment-recommendations">
                                    <h5>Recommended Actions:</h5>
                                    <ul id="treatment-list">
                                        <li>Remove and destroy infected leaves and plant debris</li>
                                        <li>Apply fungicide containing chlorothalonil or mancozeb</li>
                                        <li>Ensure proper spacing between plants for air circulation</li>
                                        <li>Avoid overhead irrigation; water at the base of plants</li>
                                    </ul>
                                </div>
                            </div>
                            
                            <div class="result-actions">
                                <button class="btn" id="save-result-btn"><i class="fas fa-save"></i> Save Result</button>
                                <button class="btn" id="share-result-btn"><i class="fas fa-share-alt"></i> Share</button>
                                <button class="btn" id="print-result-btn"><i class="fas fa-print"></i> Print</button>
                            </div>
                        </div>
                        
                        <div class="similar-cases">
                            <h4>Similar Cases & Community Solutions</h4>
                            <div class="similar-case-cards">
                                <div class="similar-case">
                                    <img src="https://via.placeholder.com/60" alt="Similar Case">
                                    <div class="case-info">
                                        <h5>Wheat Leaf Blight</h5>
                                        <p>Solved by using organic neem oil spray</p>
                                        <a href="#">View Details</a>
                                    </div>
                                </div>
                                <div class="similar-case">
                                    <img src="https://via.placeholder.com/60" alt="Similar Case">
                                    <div class="case-info">
                                        <h5>Rice Leaf Blight</h5>
                                        <p>Treated with copper-based fungicide</p>
                                        <a href="#">View Details</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Yield Prediction Page -->
            <div class="page" id="yield-prediction-page">
                <!-- Yield prediction content remains unchanged -->
                <!-- ... (include all original yield prediction content here) ... -->
            </div>

            <!-- Market Info Page -->
            <div class="page" id="market-info-page">
                <h2 class="page-title">Market Information</h2>
                <!-- Market info content -->
            </div>

            <!-- Nearby Markets Page -->
            <div class="page" id="nearby-markets-page">
                <h2 class="page-title">Nearby Markets</h2>
                <div class="map-filters">
                    <select id="radius-filter" aria-label="Select search radius">
                        <option value="5">5 km</option>
                        <option value="10">10 km</option>
                    </select>
                </div>
                <div id="market-map" class="map-container"><iframe src="https://www.google.com/maps/d/embed?mid=1yxe8VpI5cjc3jSAmEwMnCk0y9Q2B3s0&ehbc=2E312F" width="980" height="800"></iframe></div>
                <div class="market-list" id="market-list"></div>
            </div>

            <!-- Government Policies Page -->
            <div class="page" id="policies-page">
                <h2 class="page-title">Government Policies</h2>
                <div class="policy-filters">
                    <button class="btn active" data-filter="all">All</button>
                    <button class="btn" data-filter="subsidy">Subsidies</button>
                    <button class="btn" data-filter="loan">Loans</button>
                </div>
                <div class="policy-grid" id="policy-container"></div>
            </div>
        </div>
    </main>

    <!-- Global Components -->
    <div class="loader" id="global-loader">
        <div class="spinner"></div>
    </div>

    <!-- Notification Toast -->
    <div class="notification-toast" id="notification-toast">
        <div class="notification-icon">
            <i class="fas fa-info-circle"></i>
        </div>
        <div class="notification-content">
            <p class="notification-message">This is a notification message</p>
        </div>
        <button class="close-notification" title="Close notification">
            <i class="fas fa-times"></i>
        </button>
    </div>

    <!-- Modal Container -->
    <div class="modal-container" id="modal-container">
        <!-- Forgot Password Modal -->
        <div class="modal" id="forgot-password-modal">
            <div class="modal-content">
                <div class="modal-header">
                    <h3>Reset Password</h3>
                    <button class="close-modal">&times;</button>
                </div>
                <div class="modal-body">
                    <form id="forgot-password-form">
                        <div class="form-group">
                            <label for="reset-phone">Phone Number</label>
                            <input type="tel" id="reset-phone" required>
                        </div>
                        <button type="submit" class="btn btn-primary">Send Reset OTP</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Voice Assistant Dialog -->
    <div class="voice-assistant-dialog" id="voice-assistant-dialog">
        <div class="voice-dialog-header">
            <h3>Voice Assistant</h3>
            <button class="close-voice-dialog">&times;</button>
        </div>
        <div class="voice-dialog-body">
            <div class="voice-listening-indicator">
                <div class="voice-wave"></div>
                <p>Listening...</p>
            </div>
            <div class="voice-response">
                <p>How can I help you today?</p>
            </div>
        </div>
        <div class="voice-dialog-footer">
            <button class="voice-cancel-btn">Cancel</button>
            <button class="voice-submit-btn">Submit</button>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="footer-content">
            <div class="footer-logo">
                <img src="https://via.placeholder.com/40" alt="FarmGenius Logo">
                <h3>FarmGenius</h3>
            </div>
            <div class="footer-links">
                <div class="footer-column">
                    <h4>Quick Links</h4>
                    <a href="#">Home</a>
                    <a href="#">About Us</a>
                    <a href="#">Features</a>
                    <a href="#">Contact</a>
                </div>
                <div class="footer-column">
                    <h4>Help & Support</h4>
                    <a href="#">FAQ</a>
                    <a href="#">User Guide</a>
                    <a href="#">Support</a>
                </div>
                <div class="footer-column">
                    <h4>Legal</h4>
                    <a href="#">Privacy Policy</a>
                    <a href="#">Terms of Use</a>
                </div>
            </div>
            <div class="footer-contact">
                <h4>Contact Us</h4>
                <p><i class="fas fa-phone"></i> +91 1234567890</p>
                <p><i class="fas fa-envelope"></i> support@farmgenius.com</p>
                <div class="social-icons">
                    <a href="#" title="Visit our Facebook page"><i class="fab fa-facebook"></i></a>
                    <a href="#" title="Visit our Twitter page"><i class="fab fa-twitter"></i></a>
                    <a href="#" title="Visit our Instagram page"><i class="fab fa-instagram"></i></a>
                    <a href="#" title="Visit our YouTube channel"><i class="fab fa-youtube"></i></a>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 FarmGenius. All rights reserved.</p>
        </div>
    </footer>
    <script type="text/javascript">
        function googleTranslateElementInit() {
          new google.translate.TranslateElement({
            pageLanguage: 'en',
            includedLanguages: 'en,hi,pa,ta,mr',
            layout: google.translate.TranslateElement.InlineLayout.SIMPLE
          }, 'google_translate_element');
        }
      </script>
      
      <script src="https://translate.google.com/translate_a/element.js?cb=googleTranslateElementInit"></script>
      <script>
        document.getElementById('language-select').addEventListener('change', function () {
            const selectedLang = this.value;
        
            const iframe = document.querySelector('iframe.goog-te-menu-frame');
            if (!iframe) {
                alert("Translation frame not loaded yet. Please wait a second.");
                return;
            }
        
            const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;
            const langItems = iframeDoc.querySelectorAll('.goog-te-menu2-item span.text');
        
            langItems.forEach(item => {
                const langText = item.innerText.trim().toLowerCase();
                if (langText.includes(getLanguageName(selectedLang))) {
                    item.click();
                }
            });
        });
        
        // Map language codes to Google Translate language names
        function getLanguageName(code) {
            const langMap = {
                en: 'english',
                hi: 'hindi',
                pa: 'punjabi',
                ta: 'tamil',
                mr: 'marathi',
                
            };
            return langMap[code] || 'english';
        }
      </script>
              
    <script src="script.js"></script>
    
    <!-- Page Navigation Script -->
    <script>
        // Function to navigate to a specific page
        function navigateToPage(pageId) {
            // Hide all pages first
            document.querySelectorAll('.page').forEach(page => {
                page.classList.remove('active');
            });
            
            // Show the requested page
            const targetPage = document.getElementById(`${pageId}-page`);
            if (targetPage) {
                targetPage.classList.add('active');
                
                // Update active state in sidebar links
                document.querySelectorAll('.sidebar-links a').forEach(link => {
                    link.classList.remove('active');
                    if (link.getAttribute('data-page') === pageId) {
                        link.classList.add('active');
                    }
                });
                
                // Show loading animation (optional)
                const loader = document.getElementById('global-loader');
                if (loader) {
                    loader.style.display = 'flex';
                    setTimeout(() => {
                        loader.style.display = 'none';
                    }, 500); // Hide after 500ms
                }
                
                // Scroll to top of the page
                window.scrollTo(0, 0);
            }
        }

        // Add event listeners to the quick action buttons on dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Get all quick action buttons
            const actionButtons = document.querySelectorAll('.quick-actions .action-card .btn');
            
            // Add click event listeners to each button
            actionButtons.forEach(button => {
                button.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetPage = this.getAttribute('data-page');
                    if (targetPage) {
                        navigateToPage(targetPage);
                    }
                });
            });
            
            // Also add navigation for sidebar links
            const sidebarLinks = document.querySelectorAll('.sidebar-links a');
            sidebarLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetPage = this.getAttribute('data-page');
                    if (targetPage) {
                        navigateToPage(targetPage);
                    }
                });
            });
        });
    </script>
</body>
</html>